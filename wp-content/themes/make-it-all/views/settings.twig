{#
Settings page with basic personal information about
the currently authenticated user. The security section
provides the ability to change the user's password.
#}

{% extends "layouts/content.twig" %}

{% block subnav %}
	{% include "partials/subnav.twig" with
		{
			"icon": "cogs",
			"subtext": "Options",
			"links": [
				{
					"name": "General",
					"slug": "general",
					"icon": "cog",
					"active": true
				},
				{
					"name": "Security",
					"slug": "security",
					"icon": "shield"
				}
			],
			"button": {
				"name": "Logout",
				"type": "info",
				"icon": "sign-out",
				"class": "new-user",
				"modal": "new-staff-modal"
			}
		}
	%}
{% endblock %}

{% block top_nav %}
	{% include "sections/top_nav.twig" with {"name": "General", "icon": "user-cogs"} %}
{% endblock %}


{% block list_view %}
	<div class="section" id="general-section">
		<div class="container">
			<div class="row">
				<div class="col-xl-8">
					<div class="row">
						<div class="col-lg-12">
							<div class="form-group">
								<label class="required">Name</label>
								<div class="input-group">
									<span class="input-group-addon"><i class="fa fa-user"></i></span>
									<input class="form-control" name="staff.name" disabled>
								</div>
							</div>
							<div class="form-group">
								<label class="required">Email</label>
								<input class="form-control" name="staff.email" disabled>
							</div>
							<div class="form-group">
								<label class="required">Permissions</label>
								<div class="html-input" title="Requires admin permission" id="staff-permissions"></div>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-md-6 form-group">
							<label>Job Title</label>
							<input class="form-control" name="staff.job" disabled>
						</div>
						<div class="col-md-6 form-group">
							<label>Department</label>
							<input class="form-control" name="staff.department" disabled>
						</div>
					</div>
					<div class="row">
						<div class="col-md-6 form-group">
							<label>Phone Number</label>
							<input class="form-control" name="staff.phone" type="tel" disabled>
						</div>
					</div>
				</div>
				<div class="col-xl-4 profile-photo-col">
					<div class="form-group">
						<div class="card text-center">
							<img class="card-img-top" alt="User profile photo">
							<div class="card-body">
								<h4 class="card-title" data-slug="name">
									<p class="card-text" data-slug="job"></p>
								</h4>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="section block-hidden" id="security-section">
		<div class="container">
			<div class="row justify-content-between">
				<div class="col-xl-5">
					<h4>Change your Password</h4>
					<br>
					<div class="form-group">
						<label class="required">Old Password</label>
						<input class="form-control" name="password.old" type="password">
					</div>
					<div class="form-group">
						<label class="required">New Password</label>
						<input class="form-control" name="password.new" type="password">
					</div>
					<div class="form-group">
						<label class="required">Confirm New Password</label>
						<input class="form-control" name="password.confirm" type="password">
					</div>

					<button class="btn btn-success save-changes float-right">
						<i class="fa fa-floppy-o"></i> Change Password
					</button>
				</div>
			</div>
		</div>
	</div>
{% endblock %}
