{% extends "backend/views/layouts/page.twig" %}

{% block main %}
    <div class="row">
        <div class="col-xs-12 col-sm-12 {{ ticket is defined ? 'col-md-9' : 'col-md-12' }}">
            <form action="admin.php?page=ticket_update" method="POST">
                <input name="ticket[id]" type="text" hidden>
                <div class="mia-panel ticket-panel">
                    <div class="mia-panel-heading">
                        <div class="row">
                            <div class="col-sm-3 col-xs-12">
                                <h2>Hardware Information</h2>
                                {% if device_object is not defined %}
                                    <p>Choose a hardware item to get started:</p>
                                {% else %}
                                    <p>Enter the updated info below:</p>
                                {% endif %}
                            </div>
                            <div class="col-sm-9 col-xs-12 {% if ticket is defined %} defined {% endif %}">
                                {% if device_object is not defined %}
                                    <img src="/wp-content/uploads/2018/03/arrow-right-other.png">
                                {% else %}
                                    <img src="/wp-content/uploads/2018/03/arrow-down.png" style="opacity: 0;">
                                {% endif %}
                                <select id="change-hardware">
                                    <option disabled selected>Select a hardware item here…</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="mia-panel-body negative-margin">
                        <div class="accordions">
                            {% if device_object is not defined %}
                                <div class="accordion-handle row">
                                    <div class="accordion-icon col-xs-3">
                                        <div class="number-circle">?</div>
                                    </div>
                                    <div class="accordion-title col-xs-9">No hardware has been selected…</div>
                                </div>
                            {% else %}
                                <div class="accordion-handle row">
                                    <div class="accordion-icon col-xs-3">
                                        <div class="number-circle">{{ device_object.id }}</div>
                                    </div>
                                    <div class="accordion-title col-xs-9"></div>
                                </div>
                                <div class="accordion-body">
                                    <div class="row mia-field-group">
                                        <div class="col-xs-12 col-sm-3">
                                            <p class="label">
                                                Type <span class="required">*</span>
                                            </p>

                                            <p class="details">
                                                Lorem ipsum dolor sit amet, consectetur adipiscing elit.
                                            </p>
                                        </div>
                                        <div class="col-sm-9 col-xs-12 has-button">
                                            <div>
                                                <select name="hardware[type]">
                                                </select>
                                            </div>
                                            <div></div>
                                        </div>
                                    </div>
                                                                       <div class="row mia-field-group">
                                        <div class="col-xs-12 col-sm-3">
                                            <p class="label">
                                                Make <span class="required">*</span>
                                            </p>

                                            <p class="details">
                                                Lorem ipsum dolor sit amet, consectetur adipiscing elit.
                                            </p>
                                        </div>
                                        <div class="col-sm-9 col-xs-12 has-button">
                                            <div>
                                                <select name="hardware[type]">
                                                </select>
                                            </div>
                                            <div></div>
                                        </div>
                                    </div>
                                    <div class="row mia-field-group">
                                        <div class="col-sm-3 col-xs-12">
                                            <p class="label">
                                                Serial Number <span class="required">*</span>
                                            </p>

                                            <p class="details">
                                                Lorem ipsum dolor sit amet, consectetur adipiscing elit.
                                            </p>
                                        </div>
                                        <div class="col-sm-9 col-xs-12">
                                            <input name="ticket[title]" spellcheck="true" autocomplete="off" type="text" placeholder="Enter ticket title here" validation="required|min:3|max:255">
                                        </div>
                                    </div>



                                </div>
                            {% endif %}
                        </div>
                    </div>
                    {% if ticket is defined %}
                        <div class="mia-panel-footer">
                            <div class="mia-button-group pull-right">
                                <p>All done?</p>
                                <button class="button button-primary" type="submit">Update Ticket</button>
                            </div>
                        </div>
                    {% endif %}
                </div>
            </form>
        </div>

    </div>
{% endblock %}

{% block scripts %}
    <script>
        var devices = {{ devices }},
            device = {{ device|default('null') }};
    </script>
{% endblock %}
